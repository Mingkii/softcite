@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix rdf:  <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix owl:     <http://www.w3.org/2002/07/owl#> .

@prefix ca: <http://floss.syr.edu/ontologies/2008/4/contentAnalysis.owl#> .
@prefix doap: <http://usefulinc.com/ns/doap#> .

@prefix bioj: <http://james.howison.name/ontologies/bio-journal-sample#> .
@prefix citec: <http://james.howison.name/ontologies/software-citation-coding#> .
@prefix bioj-cited: <http://james.howison.name/ontologies/bio-journal-sample-citation#> .

@prefix dc: <http://dublincore.org/documents/2012/06/14/dcmi-terms/> .

@prefix sp:      <http://spinrdf.org/sp#> .
@prefix spin:    <http://spinrdf.org/spin#> .
@prefix spl:     <http://spinrdf.org/spl#> .

<http://james.howison.name/ontologies/software-citation-coding-constraints>
  rdf:type owl:Ontology ;
  owl:imports <http://purl.org/dc/terms/> ;
  owl:imports <http://spinrdf.org/spl> .

bioj:ArticleSoftwareLink a rdfs:Class ;

	# spin:constraint
	#             [ a       sp:Ask ;
	#               sp:text """
	#                   # must have a citec:is_findable property
	#                   ASK WHERE {
	#                       ?this a bioj:ArticleSoftwareLink .
	# 				  FILTER NOT EXISTS { ?this citec:is_findable true }
	# 				  FILTER NOT EXISTS { ?this citec:is_findable false }
	#                   }"""
	#             ] ;
	# spin:constraint
	#             [ a       sp:Ask ;
	#               sp:text """
	#                   # must have a citec:is_identifiable property
	#                   ASK WHERE {
	#                       ?this a bioj:ArticleSoftwareLink .
	# 				  FILTER NOT EXISTS { ?this citec:is_identifiable true }
	# 				  FILTER NOT EXISTS { ?this citec:is_identifiable false }
	#                   }"""
	#             ]	
.

bioj:SoftwareMention a rdfs:Class ;

spin:constraint
              [ a       spl:Attribute ;
                rdfs:comment "Must have one and exactly one classification "^^xsd:string ;
				rdfs:label "Must have one and exactly one classification "^^xsd:string ;
                spl:predicate citec:mention_category ;
                spl:minCount 1 ;
                spl:maxCount 1 ;
                # spl:valueType citec:MentionClassification ;
               # spl:defaultValue ex:Red
              ] ;
			  
;
# spin:constraint
#             [ a       sp:Ask ;
#               sp:text """
#                   # must be classified
#                   ASK WHERE {
#                       ?this a bioj:SoftwareMention ;
# 					        citec:mention_category ?category .
# 					  FILTER (regex(?category, 'Cite to publication|Cite to user manual|Cite to name or website|Like instrument|URL in text|Name only|Not even name'))
#                   }"""
#             ]
.
